<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        body {
            background:#f3f4f6;
            font-family: Inter, sans-serif;
        }

        .page {
            padding: 32px 48px;
        }

        .card {
            background:white;
            border-radius:20px;
            padding:28px;
            box-shadow:0 12px 32px rgba(0,0,0,.08);
        }

        h1 {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(90deg, #4f46e5, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-back {
            background:#eef2ff;
            color:#4f46e5;
            border:1px solid #c7d2fe;
            border-radius:12px;
            font-weight:600;
        }

        .btn-back:hover {
            background:#e0e7ff;
            color:#4338ca;
        }

        .btn-primary {
            border-radius:12px;
            font-weight:700;
        }

        img {
            width:60px;
            height:60px;
            object-fit:cover;
            border-radius:12px;
        }

        .table {
            border-radius:14px;
            overflow:hidden;
            background:white;
            box-shadow:0 4px 14px rgba(0,0,0,.05);
        }

        thead {
            background:#eef2ff;
        }

        thead th {
            padding:14px;
            font-weight:700;
            text-align:center;
        }

        tbody td {
            padding:14px;
            text-align:center;
        }

        tbody tr:hover {
            background:#f8fafc;
        }
    </style>
</head>

<body>

<div class="page">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>
            <i class="bi bi-box-seam"></i> Quản lý sản phẩm
        </h1>

        <a th:href="@{/admin}" class="btn btn-back">
            <i class="bi bi-arrow-left-circle"></i> Quay về Dashboard
        </a>
    </div>

    <a th:href="@{/admin/products/add}" class="btn btn-primary mb-3">
        <i class="bi bi-plus-circle"></i> Thêm sản phẩm
    </a>

    <div class="card">

        <div class="table-responsive">
            <table class="table table-hover align-middle">

                <thead>
                <tr>
                    <th>Ảnh</th>
                    <th>Tên sản phẩm</th>
                    <th>Giá</th>
                    <th>SL</th>
                    <th>Trạng thái</th>
                    <th>Hành động</th>
                </tr>
                </thead>

                <tbody>

                <tr th:each="p : ${products}">
                    <td><img th:src="@{${p.imageUrl}}"></td>

                    <td th:text="${p.name}"></td>

                    <td th:text="${#numbers.formatDecimal(p.price,0,'POINT',0,'COMMA')} + 'đ'"></td>

                    <td th:text="${p.quantity}"></td>

                    <td>
                        <span th:if="${p.featured}" class="badge bg-warning text-dark">HOT</span>
                        <span th:if="${p.newProduct}" class="badge bg-success ms-1">NEW</span>
                    </td>

                    <td class="d-flex gap-2 justify-content-center">
                        <a th:href="@{'/admin/products/edit/' + ${p.id}}"
                           class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-pencil"></i>
                        </a>

                        <a th:href="@{'/admin/products/delete/' + ${p.id}}"
                           onclick="return confirm('Xóa sản phẩm?')"
                           class="btn btn-sm btn-outline-danger">
                            <i class="bi bi-trash"></i>
                        </a>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(products)}">
                    <td colspan="6" class="text-muted py-4">Chưa có sản phẩm</td>
                </tr>

                </tbody>

            </table>
        </div>

    </div>

</div>

</body>
</html>
